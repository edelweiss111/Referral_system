# DRF_Referral_system
Сервис авторизации по номеру телефона с реализацией реферальной системы пользователей

#### Структура проекта:
config/
1. settings.py - настройки приложений
2. urls.py - файл маршрутизации

users/
1. management/commands
  1). create_user.py - кастомная команда создания пользователя
  2). csu.py - кастомная команда создания суперпользователя
2. admin.py - настройки админки
3. models.py - модели приложения
4. permissons.py - разрешения для пользователей
5. serializers.py - сериализаторы моделей
6. services.py - сервисные функции
7. urls.py - файл маршрутизации приложения
8. views.py - контроллеры

.env.sample - необходимые переменные окружения

Referral_system.postman_collection.json - коллекция postman запросов в формате json

manage.py - точка входа веб-приложения

Dockerfile - настройки docker

docker-compose.yaml - настройки docker-compose

requirements.txt - список зависимостей для проекта.

#### Используется виртуальное окружение env

#### Для запуска web-приложения используйте команду "python manage.py runserver" либо через конфигурационные настройки PyCharm.

# Установка

1. Клонируйте данный репозиторий
2. Установите Python, PostgreSQL
3. Установите и активируйте виртуальное окружение.
4. Установите зависимости из файла requirements.txt
5. Создайте файл .env по шаблону .env.sample
6. Установите миграции: python3 manage.py migrate
7. Запустите команду, чтобы создать супер пользователя, для доступа в административную панель:
  - python3 manage.py csu
8. Запустите веб-приложение

### В данном проекте для рассылки смс кода используется API Twilio. Если у вас нет подтвержденного аккаунта на этой платформе смс не будет отправляться. Код подтверждения можно посмотреть в админке

# Запуск с помощью DOCKER:
1. Установите Doker, Doker-compose
2. docker-compose build (собрать образ)
3. docker-compose up -d (запустить контейнеры в фоновом режиме)
4. docker-compose down (остановить контейнеры)


